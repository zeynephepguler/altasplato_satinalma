@using altasplato_satinalma.Models
@{
    ViewData["Title"] = "İletisim";
}
<div>
    <h2 class="mb-4 text-center" style="color: #212d3d;"><i></i>Altaş İletişim </h2>
    <h1 class="mb-4 text-center" style="color: #212d3d;"><i></i>Kime Ulaşmak İstemiştiniz </h1>
</div>

<link href="~/css/StyleSheet.css" rel="stylesheet" />  

<div class="container">


    <div class="departmanlar">
       
        <div class="departman">
            <div class="cards">

                <div class="card">
                    <div class="avatar"></div>
                    <p>KİŞİLER</p>
                </div>
                <div class="card">
                    <div class="avatar"></div>
                    <p>KİŞİLER</p>
                </div>
            </div>
            <h2>Satın Alma</h2>
        </div>
       
        <div class="departman">
            <div class="cards">
                <div class="card">
                    <div class="avatar"></div>
                    <p>KİŞİLER</p>
                </div>
                <div class="card">
                    <div class="avatar"></div>
                    <p>KİŞİLER</p>
                </div>
            </div>
            <h2>Muhasebe</h2>
        </div>
       
        <div class="departman">
            <div class="cards">
                <div class="card">
                    <div class="avatar"></div>
                    <p>KİŞİLER</p>
                </div>
                <div class="card">
                    <div class="avatar"></div>
                    <p>KİŞİLER</p>
                </div>
            </div>
            <h2>Bakımhane</h2>
          
        </div>
    </div>
    <input type="button" name="Yenile" value="Yenile"/>
</div>
<div>
    <script src="~/Scripts/jquery.signalR-2.1.0.min.js"></script>
        <div class="container">
        <h2>Iletisim</h2>
        <div class="container">
            <input type="text" id="message" />
            <input type="button" id="sendmessage" value="Send" />
            <input type="hidden" id="displayname" />
            <ul id="discussion">
            </ul>
        </div>
        @section scripts {
            <!--Script references. -->
            <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
            <!--Reference the SignalR library. -->
            <script src="~/Scripts/jquery.signalR-2.1.0.min.js"></script>
            <!--Reference the autogenerated SignalR hub script. -->
            <script src="~/signalr/hubs"></script>
            <!--SignalR script to update the chat page and send messages.-->
        
            <script>
                const connection = new signalR.HubConnectionBuilder()
                  .withUrl("/chatHub")
                  .build();

                // Sunucudan gelen çağrı
                connection.on("addNewMessageToPage", (name, message) => {
                  console.log(name, message);
                  // DOM güncellemesi burada
                });

                connection.start().catch(err => console.error(err));

                // Sunucuya mesaj gönderme (örnek)
                function sendMessage(name, message) {
                  connection.invoke("Send", name, message).catch(err => console.error(err));
                }
            </script>
        }
</div>
